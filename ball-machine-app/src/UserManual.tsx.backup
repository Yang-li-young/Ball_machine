import React, { useState, useEffect } from 'react';

interface ManualSection {
  id: string;
  title: string;
  content: {
    title: string;
    description: string;
    image?: string;
  }[];
}

export function UserManual({ onBack }: { onBack: () => void }) {
  const [activeSection, setActiveSection] = useState('safety');
  const [expandedSubsection, setExpandedSubsection] = useState<string | null>(null);
  const [nav, setNav] = useState("me");
  const [showRobotImage, setShowRobotImage] = useState(true);

  const handleNavClick = (page: string) => {
    setNav(page);
    // å¯ä»¥æ ¹æ®éœ€è¦è°ƒç”¨ onBack æˆ–å…¶ä»–å¯¼èˆªå¤„ç†
  };

  const manualSections: ManualSection[] = [
    {
      id: 'quickstart',
      title: 'ä½¿ç”¨å‰æé†’',
      content: [
        {
          title: 'é‡è¦æé†’',
          description: 'äº†è§£å¦‚ä½•å¿«é€Ÿå®‰è£…å’Œå¯åŠ¨æ‚¨çš„ACEMATEæœºå™¨äººï¼Œè¯·å‹¿åœ¨éæ ‡å‡†åœºåœ°ä½¿ç”¨Rallyæ¨¡å¼ï¼Œéæ ‡å‡†åœºåœ°è¯·ä½¿ç”¨BallMachineæ¨¡å¼ã€‚'
        }
      ]
    },
    {
      id: 'device',
      title: 'è®¾å¤‡ä½¿ç”¨æŒ‡å—',
      content: [
        {
          title: 'å¼€å…³æœº',
          description: 'æ­£å¸¸æŒ‰ä¸‹å¼€å…³æŒ‰é’®å³å¯å¼€/å…³æœºï¼Œå¼€æœºè¿‡ç¨‹ä¸­å°½é‡ä¿æŒæœºå™¨é™æ­¢ï¼Œæœºå™¨å¼€æœºè¿‡ç¨‹ä¼šçº¢ç¯é—ªçƒï¼Œæœºå™¨å®Œæˆè‡ªæ£€åæŒ‡ç¤ºç¯å˜ä¸ºç»¿/ç´«è‰²å¸¸äº®ï¼Œè¡¨æ˜æœºå™¨æ­£å¸¸å¼€æœºï¼Œå³å¯ä½¿ç”¨APPè¿æ¥è®¾å¤‡è“ç‰™å¼€å§‹ä½¿ç”¨ã€‚'
        },
        {
          title: 'å®‰è£…æ¥çƒç½‘',
          description: 'åœ¨ä¼¸ç¼©æ¥çƒç½‘è¿‡ç¨‹ä¸­ï¼Œè¯·å‹¿ç›´æ¥å°†æŸä¸€æ ¹ä¼¸ç¼©æ†ç›´æ¥ä¼¸ç¼©åˆ°æœ€é¡¶ç«¯ï¼Œéœ€å°†å››ä¸ªæ¥çƒä¼¸ç¼©æ†ä¾æ¬¡ä¼¸ç¼©è‡³é¡¶ç«¯ï¼›æ³¨æ„ä¼¸ç¼©è¿‡ç¨‹ä¸­ä¸è¦è®©çƒç½‘é’©ä½å†…éƒ¨çš„æ‹¨æ†å’Œèºæ†ã€‚'
        },
        {
          title: 'å®‰å…¨æ£€æŸ¥',
          description: 'ä½¿ç”¨ACEMATEå‰è¯·ç¡®ä¿ä»¥ä¸‹å†…å®¹ï¼š\nâ€¢ ç”µæ± ç”µé‡å……è¶³ï¼›\nâ€¢ å‘¨å›´ç¯å¢ƒå®‰å…¨ï¼›\nâ€¢ åœºåœ°å¹³æ•´ã€æ— éšœç¢ç‰©ï¼›\nâ€¢ æ£€æŸ¥è®¾å¤‡å„éƒ¨ä»¶æ˜¯å¦å®Œå¥½ï¼Œç¡®è®¤å‘çƒå£æ— å µå¡ã€è½®å­æ­£å¸¸è¡Œèµ°ã€‚'
        },
        {
          title: 'ç”µæ± å……ç”µ',
          description: 'å¯ç›´æ¥ä½¿ç”¨å……ç”µå™¨æ’å…¥æœºå™¨äººå¼€å…³ä¸‹æ–¹å……ç”µå£è¿›è¡Œå……ç”µï¼Œä¹Ÿå¯å°†ç”µæ± ä»ç”µæ± ä»“å–å‡ºå……ç”µã€‚'
        }
      ]
    },
    {
      id: 'app',
      title: 'APPé¡µé¢è¯´æ˜',
      content: [
        {
          title: 'Rallyæ¨¡å¼é¡µé¢',
          description: 'çŠ¶æ€æ˜¾ç¤ºæ ï¼š\nâ€¢ å·¦ä¸Šè§’ä¸ºè“ç‰™è¿æ¥è®¾å¤‡çŠ¶æ€ï¼Œå¼€æœºåè¿æ¥Acemate_XXXXè®¾å¤‡å³å¯æ§åˆ¶ï¼›\nâ€¢ å³ä¸Šè§’ä¸ºAcemateè§†è§‰è¯†åˆ«çŠ¶æ€ï¼Œå½“æœºå™¨è¯†åˆ«åˆ°ä½ç½®æ­£ç¡®åä¼šç”±"Incorrect Position"å˜ä¸º"Correct Position"ã€‚\n\nçƒåœºå±•ç¤ºåŒºåŸŸï¼š\nâ€¢ ä¾æ¬¡ç‚¹å‡»çƒåœºè½ç‚¹ç¼–å·è®¾ç½®ä¸åŒçš„è½ç‚¹é¡ºåºï¼Œæœºå™¨è½ç‚¹çš„å‡†ç¡®æ€§å’Œç½‘çƒã€åœºåœ°ç­‰ç±»å‹ç›¸å…³æ€§è¾ƒé«˜ï¼Œè¯·å°½é‡ä¿è¯ç½‘çƒçš„ä¸€è‡´æ€§å’Œåœ¨æ ‡å‡†ç½‘çƒåœºä½¿ç”¨ã€‚\n\nä¸Šä¸‹æ—‹å’Œé«˜åº¦å±•ç¤ºåŒºåŸŸï¼š\nâ€¢ å¯è§†åŒ–æœºå™¨å‡»çƒçš„ä¸Šä¸‹æ—‹å’Œè¿‡ç½‘é«˜åº¦ï¼Œå¯é€šè¿‡é€Ÿåº¦ã€ä¸Šä¸‹æ—‹æ»‘æ†è¿›è¡Œè°ƒæ•´ã€‚\n\nçƒç»„è®¾ç½®åŒºåŸŸï¼š\nâ€¢ é€‰æ‹©çƒç»„çš„ä¸Šä¸‹æ—‹å’Œçƒé€Ÿ\n\nå°è½¦è®¾ç½®å¡ç‰‡ï¼š\nâ€¢ Car Speedè®¾ç½®å°è½¦çš„é€Ÿåº¦ï¼ˆç”±äºåœºåœ°æè´¨çš„å·®å¼‚ï¼Œå¦‚æœæœºå™¨å‘å°„çƒçš„å·¦å³åå·®è¾ƒå¤§ï¼Œå¯é€‚å½“é™ä½è½¦é€Ÿï¼‰\nâ€¢ Machine Vertical Positionç”¨äºè°ƒæ•´æœºå™¨åœ¨çƒåœºçºµå‘ä½ç½®ï¼Œå¯æ ¹æ®ä¸åŒçš„ç»ƒä¹ éœ€æ±‚ï¼Œç»“åˆè½ç‚¹è®¾ç½®ï¼Œå®ç°å°åœºå¯¹æ‹‰ï¼ˆ1ï¼Œ2å·Positionï¼‰ï¼Œåº•çº¿å¯¹æ‹‰ï¼ˆ4ã€5å·positionï¼‰ã€‚\nâ€¢ Machine Horizontal Positionç”¨äºè°ƒæ•´æœºå™¨åœ¨çƒåœºçºµå‘ä½ç½®ï¼Œå¯æ ¹æ®ä¸åŒçš„ç»ƒä¹ éœ€æ±‚ï¼Œç»“åˆè½ç‚¹è®¾ç½®ï¼Œå®ç°ä¸åŒçº¿è·¯ç»„åˆçš„ç»ƒä¹ ã€‚'
        },
        {
          title: 'Ball Machineæ¨¡å¼é¡µé¢',
          description: 'ç”¨äºè®¾ç½®ä¼ ç»Ÿå‘çƒæœºæ¨¡å¼ï¼Œæ”¯æŒç”¨æˆ·å°†æœºå™¨æ”¾ç½®åœ¨ä¸åŒçš„ä½ç½®å’Œåœºåœ°ï¼Œé€‰æ‹©æ¯ä¸ªçƒçš„å‡»çƒå‚æ•°ã€‚\n\nçŠ¶æ€æ˜¾ç¤ºæ ï¼š\nâ€¢ å·¦ä¸Šè§’ä¸ºè“ç‰™è¿æ¥è®¾å¤‡çŠ¶æ€ï¼Œå¼€æœºåè¿æ¥Acemate_XXXXè®¾å¤‡å³å¯æ§åˆ¶ï¼›\n\nçƒåœºå±•ç¤ºåŒºåŸŸï¼š\nâ€¢ æ­¤åŒºåŸŸä¼šä¾æ®ç”¨æˆ·è®¾ç½®çš„å‡»çƒå‚æ•°åŠ¨æ€å±•ç¤ºæ¯ä¸ªçƒçš„å‡»çƒæ–¹å‘ã€æ·±åº¦ã€é«˜åº¦ã€ä¸Šä¸‹æ—‹ä»¥åŠæ•´ä¸ªçƒç»„çš„å‡»çƒé¡ºåº\n\né¢„è®¾è®­ç»ƒæ–¹æ¡ˆï¼š\nâ€¢ æ”¯æŒç”¨æˆ·é€‰æ‹©é¢„è®¾çš„è®­ç»ƒæ–¹æ¡ˆ\n\nçƒç»„é€‰æ‹©ï¼š\nâ€¢ å‘çƒæ—¶é—´é—´éš”ï¼Œè®¾ç½®æ•´ä¸ªçƒç»„çƒä¸çƒä¹‹é—´çš„æ—¶é—´é—´éš”ï¼Œæ¯ä¸ªçƒä¹‹é—´çš„æ—¶é—´é—´éš”ç›¸åŒ\nâ€¢ ç‚¹å‡»"+"æŒ‰é’®å¢åŠ çƒï¼Œé€‰ä¸­çƒç¼–å·ï¼Œè®¾ç½®æ¯ä¸ªçƒçš„å‘çƒæ–¹å‘ã€é€Ÿåº¦ã€æ—‹è½¬ã€é«˜åº¦\nâ€¢ ç‚¹å‡»"ä¿å­˜æ–¹æ¡ˆ"æŒ‰é’®å¯å°†å½“å‰çš„è®¾ç½®ä¿å­˜å¹¶å‘½åä¸ºè‡ªå·±çš„æ–¹æ¡ˆ'
        },
        {
          title: 'Trainingé¡µé¢',
          description: 'Trainingé¡µé¢ç”¨äºå±•ç¤ºç”¨æˆ·ä¸Acemateè®­ç»ƒçš„æ•°æ®è®°å½•ï¼Œæ”¯æŒå¤§æ¨¡å‹åˆ†æè®­ç»ƒè®°å½•ï¼Œç”Ÿæˆå¯¹åº”çš„è®­ç»ƒå»ºè®®ã€‚\n\nAIåˆ†æå¡ç‰‡ï¼š\nâ€¢ åˆ©ç”¨AIå¤§æ¨¡å‹åˆ†æä¸€ç»„å‡»çƒå›åˆå†…çš„è®­ç»ƒæ•°æ®ï¼Œç»™å‡ºç›¸åº”çš„è®­ç»ƒæ–¹æ¡ˆ\n\nè®­ç»ƒè§†é¢‘å¡ç‰‡ï¼š\nâ€¢ å½•åˆ¶å‘çƒæœºæ¨¡å¼ä¸‹çš„è®­ç»ƒè§†é¢‘\n\nè½ç‚¹åˆ†å¸ƒå¡ç‰‡ï¼š\nâ€¢ å±•ç¤ºæ­£åæ‰‹å‡»çƒé¢‘ç‡å’Œè½ç‚¹åˆ†å¸ƒ\n\nå‡»çƒæ•°æ®ç»Ÿè®¡å¡ç‰‡ï¼š\nâ€¢ ç»Ÿè®¡å‡»çƒæ¬¡æ•°ã€å¹³å‡å‡»çƒé€Ÿåº¦ã€æœ€å¤§å‡»çƒé€Ÿåº¦ã€å¹³å‡è¿‡ç½‘é«˜åº¦ã€å…¥ã€å‡ºç•Œç‡'
        },
        {
          title: 'Meé¡µé¢',
          description: 'çŠ¶æ€æ˜¾ç¤ºæ ï¼š\nâ€¢ å·¦ä¸Šè§’ä¸ºè“ç‰™è¿æ¥è®¾å¤‡çŠ¶æ€ï¼Œå¼€æœºåè¿æ¥Acemate_XXXXè®¾å¤‡å³å¯æ§åˆ¶ï¼›\n\nå°è½¦é¥æ§å™¨ï¼š\nâ€¢ ç”¨äºå®ç°å°è½¦å‰åå·¦å³ç§»åŠ¨å’Œæ—‹è½¬æ–¹å‘\n\nAcemateç”¨æˆ·æ‰‹å†Œ\n\nç”¨æˆ·åé¦ˆï¼š\nâ€¢ ç”¨æˆ·åé¦ˆåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ç¢°åˆ°çš„é—®é¢˜å’Œè”ç³»æ–¹å¼\n\nç½‘çƒè·ç¦»æµ‹é‡ä¸ç›¸æœºæ ¡æ­£ï¼š\nâ€¢ å½“æœºå™¨æ¥çƒå¼‚å¸¸ã€å‘çƒåå·®è¾ƒå¤§æ—¶å¯èƒ½éœ€è¦è¿›è¡Œæµ‹è·å’Œç›¸æœºæ ¡å‡†\n\næœºå™¨å›ºä»¶ç‰ˆæœ¬ï¼š\nâ€¢ æ£€æŸ¥å’Œå®‰è£…æœ€æ–°çš„æœºå™¨å›ºä»¶'
        }
      ]
    },
    {
      id: 'suggestions',
      title: 'APPåŠŸèƒ½ä½¿ç”¨å»ºè®®',
      content: [
        {
          title: 'NTRP 1.0â€“2.0ï¼šå…¥é—¨è€…é˜¶æ®µ',
          description: 'ç›®æ ‡ï¼šå»ºç«‹å‡»çƒæ„Ÿè§‰ä¸ç¨³å®šæ€§ï¼Œæ‰¾åˆ°"ç½‘çƒçš„èŠ‚å¥"\n\næ¨èä½¿ç”¨æ¨¡å¼ï¼šå‘çƒæœºæ¨¡å¼ï¼ˆå›ºå®šç‚¹å‡ºçƒï¼‰\n\nè®­ç»ƒæ–¹æ³•ï¼š\n1. å°†æœºå™¨æ”¾ç½®åœ¨åº•çº¿ä¸­ç‚¹ä½ç½®ï¼Œä½¿ç”¨é¢„è®¾æ–¹æ¡ˆçš„åŸºç¡€å®šç‚¹è®­ç»ƒçº¿è·¯ï¼Œä»"å·¦å³ä¸¤ä¾§æµ…çƒå®šç‚¹ç»ƒä¹ "ä¾æ¬¡è¿›é˜¶è‡³"å·¦å³ä¸¤ä¾§æ·±çƒå®šç‚¹ç»ƒä¹ "ï¼Œç»ƒä¹ æ­£åæ‰‹ç¨³å®šæ€§ï¼Œæ§åˆ¶å‡»çƒè½ç‚¹å’ŒèŠ‚å¥ã€‚\n2. è¿›ä¸€æ­¥ä½¿ç”¨é¢„è®¾è®­ç»ƒæ–¹æ¡ˆçš„åŸºç¡€åŒçº¿è®­ç»ƒçº¿è·¯ï¼Œåˆ‡æ¢æ­£åæ‰‹ã€‚\n3. ç»“åˆAppè§†é¢‘å›æ”¾åŠŸèƒ½ï¼Œè§‚å¯Ÿæ˜¯å¦å§‹ç»ˆä¿æŒä¸€è‡´çš„æŒ¥æ‹èŠ‚å¥ã€‚\n\nAPPè®¾ç½®æ–¹æ³•ï¼š\n1. åœ¨Ball Machineé¡µé¢ç‚¹å‡»é¢„è®¾è®­ç»ƒæ–¹æ¡ˆï¼Œé€‰æ‹©ç›¸åº”çš„æ–¹æ¡ˆ\n2. å¯ä»¥ä¾æ®è‡ªå·±çš„éœ€æ±‚è°ƒæ•´å‡ºçƒé€Ÿåº¦\n3. è°ƒæ•´ä¿¯ä»°è§’åº¦æ§åˆ¶è¿‡ç½‘é«˜åº¦\n4. è°ƒæ•´ä¸Šæ—‹/å¹³å‡»/ä¸‹æ—‹ç­‰å‡»çƒç±»å‹\n5. è°ƒæ•´å‘çƒæ—¶é—´é—´éš”æ”¹å˜å‡»çƒèŠ‚å¥'
        },
        {
          title: 'NTRP 2.0â€“3.0ï¼šåŸºç¡€ç¨³å®šé˜¶æ®µ',
          description: 'ç›®æ ‡ï¼šå½¢æˆä¸»åŠ¨å‡»çƒæ„è¯†ä¸æ–¹å‘æ§åˆ¶èƒ½åŠ›\n\næ¨èä½¿ç”¨æ¨¡å¼ï¼šå‘çƒæœºæ¨¡å¼ + Rallyæ¨¡å¼å•ç‚¹è®­ç»ƒ\n\nè®­ç»ƒæ–¹æ³•ï¼š\n1. ä½¿ç”¨å‘çƒæœºæ¨¡å¼ï¼Œå°†æœºå™¨æ”¾ç½®åœ¨åº•çº¿ä¸­ç‚¹ä½ç½®ï¼Œä½¿ç”¨é¢„è®¾æ–¹æ¡ˆçš„æ·±æµ…çƒç»„åˆçº¿è·¯å’Œè¿›é˜¶çº¿è·¯ã€‚\n2. ä½¿ç”¨Rallyæ¨¡å¼ï¼Œå°†æœºå™¨æ”¾ç½®åœ¨ä¸­åœºé è¿‘åº•çº¿ä½ç½®ï¼ˆæ¨èè®¾ç½®Machine Vertical Position 1/2/3ï¼ŒMachine Horizontal Position 5ï¼‰ï¼Œé€‰æ‹©æµ…è½ç‚¹ï¼Œè®¾ç½®è¾ƒä½é€Ÿåº¦ï¼Œå’Œæœºå™¨è¿›è¡Œå°åœºå¯¹æ‹‰ã€‚\n\nAPPè®¾ç½®æ–¹æ³•ï¼š\n1. åœ¨Ball Machineé¡µé¢ â†’ é¢„è®¾æ–¹æ¡ˆ â†’æ·±æµ…çƒç»„åˆçº¿è·¯/è¿›é˜¶çº¿è·¯ï¼Œç»“åˆéš¾åº¦å’Œè‡ªèº«éœ€æ±‚è°ƒæ•´å‘çƒæ–¹å‘ã€é€Ÿåº¦ã€æ—‹è½¬ã€ä¿¯ä»°è§’åº¦ã€å‘çƒæ—¶é—´é—´éš”ç­‰å‚æ•°\n2. åœ¨Rallyé¡µé¢é€‰æ‹©å•ä¸ªä¸­è·¯æµ…è½ç‚¹ï¼ˆ3/8/13ï¼‰ï¼Œè°ƒæ•´é€‚åˆè‡ªå·±çš„é€Ÿåº¦ï¼Œè®¾ç½®Machine Vertical Position 1/2/3ï¼ŒMachine Horizontal Position 5ï¼‰æ§åˆ¶å‡»çƒè½ç‚¹ï¼Œå®ç°ç¨³å®šå¯¹æ‹‰'
        },
        {
          title: 'NTRP 3.5â€“4.0ï¼šç¨³å®šæ§åˆ¶é˜¶æ®µ',
          description: 'ç›®æ ‡ï¼šæå‡æ—‹è½¬æŒæ§ä¸å‡»çƒè´¨é‡ï¼Œå½¢æˆè¿ç»­å¯¹æ‰“èŠ‚å¥\n\næ¨èä½¿ç”¨æ¨¡å¼ï¼šRallyæ¨¡å¼\n\nè®­ç»ƒæ–¹æ³•ï¼š\n1. ä½¿ç”¨Rallyæ¨¡å¼ï¼Œå°†æœºå™¨æ”¾ç½®åœ¨åº•çº¿ä¸­ç‚¹ä½ç½®ï¼ˆè®¾ç½®Machine Vertical Position 4/5ï¼ŒMachine Horizontal Position 5ï¼‰ï¼Œé€‰æ‹©ç‚¹ä½ä¸­3â€“5ä¸ªç‚¹ï¼Œè¿›è¡Œè¿ç»­å¯¹æ‰“è®­ç»ƒã€‚\n2. ä½¿ç”¨Rallyæ¨¡å¼ï¼Œå°†æœºå™¨æ”¾ç½®åœ¨åº•çº¿å³ä¾§ä½ç½®ï¼ˆè®¾ç½®Machine Vertical Position 4/5ï¼ŒMachine Horizontal Position 1/2/3ï¼‰ï¼Œé€‰æ‹©ç‚¹ä½ä¸­3â€“5ä¸ªç‚¹ï¼Œè¿›è¡Œè¿ç»­å¯¹æ‰“è®­ç»ƒã€‚\n\nAPPè®¾ç½®æ–¹æ³•ï¼š\n1. æ‰“å¼€Rallyæ¨¡å¼ â†’ é€‰æ‹©è®­ç»ƒç‚¹ä½ï¼ˆ3â€“5ä¸ªï¼‰ã€è®¾ç½®Machine Vertical Position 4/5ï¼ŒMachine Horizontal Position 5ï¼›\n2. è°ƒæ•´é€‚å½“çš„é€Ÿåº¦å’Œæ—‹è½¬ã€‚'
        }
      ]
    },
    {
      id: 'troubleshooting',
      title: 'å¸¸è§é—®é¢˜',
      content: [
        {
          title: 'ç¡¬ä»¶é—®é¢˜',
          description: 'æ¥çƒç½‘å¯ä»¥æ¥ä½çƒä½†å¼¹å‡ºè¾ƒå¤šï¼š\nâ€¢ è¯·å°†æ¥çƒç½‘ä¼¸ç¼©è‡³åˆé€‚çš„é«˜åº¦ï¼Œæ¨èé«˜åº¦ä¸ºä¼¸ç¼©æ†çš„æœ€é«˜ã€‚\n\nè½¬ç›˜å µè½¬ï¼š\nâ€¢ å¯èƒ½çš„ç°è±¡æ˜¯å¼€å¯åæœºå™¨ä¸å‘çƒï¼Œè¯·åœ¨å‘çƒæœºæ¨¡å¼ä¸‹è§‚å¯Ÿæœºå™¨ï¼Œç¡®è®¤æ˜¯å¦æ˜¯å‚¨çƒè½¬ç›˜æœªè½¬åŠ¨ã€‚\n\nå‘çƒç”µæœºå µè½¬ï¼š\nâ€¢ å¯èƒ½çš„ç°è±¡æ˜¯å¼€å¯åæœºå™¨ä¸å‘çƒï¼Œè¯·åœ¨å‘çƒæœºæ¨¡å¼ä¸‹è§‚å¯Ÿæœºå™¨ï¼Œç¡®ä¿å‚¨çƒè½¬ç›˜æ²¡æœ‰çƒåè§‚å¯Ÿå‘çƒç”µæœºæ˜¯å¦è½¬åŠ¨ã€‚\nâ€¢ æŸ¥çœ‹æ˜¯å¦æœ‰çƒå¡åœ¨ä¸Šä¸‹å‘çƒç”µæœºä¸­é—´ï¼Œå¦‚æœ‰çƒï¼Œè¯·å…³é—­æœºå™¨ï¼Œæ‹†å¸æœºå™¨ä¸»ä½“ä¸¤ä¾§èºä¸ï¼Œæèµ·è½¬çƒè£…ç½®å–å‡ºç½‘çƒå³å¯ã€‚\n\nè½¦è½®ä¸è½¬åŠ¨ï¼š\nâ€¢ ç¡®ä¿æœºå™¨å¤„äºæ­£å¸¸å¼€æœºçŠ¶æ€ï¼ˆæŒ‡ç¤ºç¯ä¸ºç»¿è‰²æˆ–è“è‰²ï¼‰ï¼Œæ‰‹åŠ¨æ§åˆ¶æœºå™¨è¡Œèµ°ã€‚'
        },
        {
          title: 'è§†è§‰é—®é¢˜',
          description: 'æœºå™¨äººåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¯èƒ½ç¢°åˆ°ä»¥ä¸‹è§†è§‰ç›¸å…³çš„é—®é¢˜ï¼š\nâ€¢ Rallyæ¨¡å¼ä¸‹æ­£å¸¸ä½¿ç”¨è¿‡ç¨‹ä¸­çªç„¶åœæ­¢ï¼Œå¯èƒ½æ˜¯çƒåœºæ ‡è¯†çº¿ï¼ˆçƒåœºå‘çƒçº¿ã€è¾¹çº¿ã€çƒç½‘é‡åŠ›å¸¦ç¼ºå¤±ç­‰ï¼‰ä¸æ˜æ˜¾å¯¼è‡´æœºå™¨ä¸¢å¤±ä½ç½®ï¼Œæ‰‹åŠ¨ç§»åŠ¨è‡³æ­£å¸¸ä½ç½®å³å¯\nâ€¢ Rallyæ¨¡å¼ä¸‹æ¥çƒæ•ˆæœä¸ä½³ï¼Œè§‚å¯Ÿçƒåœºç¯å¢ƒä¸­æ˜¯å¦å­˜åœ¨ç±»ä¼¼ç½‘çƒï¼ˆé»„è‰²ã€åœ†å½¢ï¼‰çš„å›¾åƒæˆ–ç‰©ä½“ï¼Œè¯·è¿›è¡Œç§»é™¤æˆ–è€…é®æŒ¡\nâ€¢ æœºå™¨çªç„¶ç§»åŠ¨å‘æŸä¸ªæ–¹å‘ï¼Œå¯èƒ½æ˜¯æœ‰ç½‘çƒæˆ–ç½‘çƒç±»ä¼¼ç‰©åœ¨æœºå™¨äººè§†çº¿ä¸­ç§»åŠ¨ï¼Œè¯·é¿å…æ­¤ç±»æƒ…å†µ'
        }
      ]
    },
    {
      id: 'maintenance',
      title: 'ç»´æŠ¤ä¸ä¿å…»',
      content: [
        {
          title: 'æ—¥å¸¸ç»´æŠ¤',
          description: 'ä¸ºäº†ä¿æŒACEMATEçš„æœ€ä½³æ€§èƒ½å’Œå»¶é•¿ä½¿ç”¨å¯¿å‘½ï¼Œå»ºè®®å®šæœŸè¿›è¡Œä»¥ä¸‹ç»´æŠ¤å·¥ä½œï¼š\nâ€¢ ä½¿ç”¨åæ¸…æ´è®¾å¤‡è¡¨é¢å’Œå‘çƒå£\nâ€¢ æ£€æŸ¥å¹¶æ¸…ç†æ¥çƒç½‘\nâ€¢ å®šæœŸæ£€æŸ¥ç”µæ± ç”µé‡å’Œå……ç”µçŠ¶æ€\nâ€¢ æ£€æŸ¥å„éƒ¨ä»¶æ˜¯å¦æ¾åŠ¨æˆ–ç£¨æŸ\nâ€¢ å­˜æ”¾æ—¶ä¿æŒå¹²ç‡¥é€šé£çš„ç¯å¢ƒ'
        }
      ]
    }
  ];

  const toggleSubsection = (subsectionId: string) => {
    setExpandedSubsection(expandedSubsection === subsectionId ? null : subsectionId);
  };

  // æ·»åŠ æ»šåŠ¨ç›‘å¬æ¥éšè—æœºå™¨äººå›¾ç‰‡ï¼ˆç®€åŒ–ç‰ˆï¼Œé˜²æŠ–åŠ¨ï¼‰
  useEffect(() => {
    let isScrolling = false;
    let scrollEndTimer: NodeJS.Timeout | null = null;

    const handleScroll = () => {
      const currentScrollY = window.scrollY;

      // æ ‡è®°æ­£åœ¨æ»šåŠ¨
      isScrolling = true;

      // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
      if (scrollEndTimer) {
        clearTimeout(scrollEndTimer);
      }

      // è®¾ç½®æ–°çš„å®šæ—¶å™¨ï¼Œåœ¨æ»šåŠ¨ç»“æŸåæ›´æ–°çŠ¶æ€
      scrollEndTimer = setTimeout(() => {
        isScrolling = false;

        // ç®€å•çš„é˜ˆå€¼åˆ¤æ–­ï¼šæ»šåŠ¨è¶…è¿‡150pxå°±éšè—å›¾ç‰‡
        if (currentScrollY > 150) {
          setShowRobotImage(false);
        } else {
          setShowRobotImage(true);
        }
      }, 150); // 150mså»¶è¿Ÿç¡®ä¿æ»šåŠ¨ç»“æŸ
    };

    window.addEventListener('scroll', handleScroll, { passive: true });

    // æ¸…ç†å‡½æ•°
    return () => {
      window.removeEventListener('scroll', handleScroll);
      if (scrollEndTimer) {
        clearTimeout(scrollEndTimer);
      }
    };
  }, []); // ç§»é™¤ä¸å¿…è¦çš„ä¾èµ–é¡¹

  
  interface NavItemProps {
    label: string;
    keyName: string;
    active: boolean;
    onClick: () => void;
  }

  function NavItem({ label, keyName, active, onClick }: NavItemProps) {
    return (
      <button
        onClick={onClick}
        style={{
          flex: 1,
          padding: '8px',
          textAlign: 'center',
          color: active ? '#059669' : '#6b7280',
          fontWeight: active ? '600' : 'normal',
          border: 'none',
          backgroundColor: 'transparent',
          cursor: 'pointer',
          fontSize: '14px'
        }}
      >
        <div>{label}</div>
      </button>
    );
  }

  return (
    <div style={{
      minHeight: '100vh',
      background: 'linear-gradient(135deg, #1a4d2e 0%, #2d5a3d 50%, #1a4d2e 100%)',
      display: 'flex',
      flexDirection: 'column',
      alignItems: 'center',
      padding: '16px',
      color: 'white',
      fontFamily: 'Arial, sans-serif'
    }}>
      <div style={{ width: '100%', maxWidth: '448px', marginTop: '8px' }}>
        {/* é¡¶éƒ¨å¯¼èˆªæ  */}
        <div style={{
          display: 'flex',
          justifyContent: 'space-between',
          alignItems: 'center',
          marginBottom: '24px',
          padding: '0 8px'
        }}>
          <button
            onClick={onBack}
            style={{
              backgroundColor: 'rgba(255, 255, 255, 0.2)',
              border: 'none',
              color: 'white',
              fontSize: '16px',
              cursor: 'pointer',
              padding: '8px 16px',
              borderRadius: '20px',
              backdropFilter: 'blur(10px)'
            }}
          >
            â† è¿”å›
          </button>
          <h1 style={{ fontSize: '20px', fontWeight: 'bold', margin: 0, textShadow: '0 2px 4px rgba(0,0,0,0.3)' }}>
            ç”¨æˆ·æ‰‹å†Œ
          </h1>
          <div style={{ width: '80px' }}></div>
        </div>

        {/* ç”¨æˆ·æ‰‹å†Œå†…å®¹åŒºåŸŸ - å·¦å³åˆ†æ å¸ƒå±€ */}
        <div style={{
          backgroundColor: 'rgba(255, 255, 255, 0.95)',
          borderRadius: '20px',
          padding: '24px',
          marginBottom: '24px',
          boxShadow: '0 8px 32px rgba(0, 0, 0, 0.2)',
          backdropFilter: 'blur(10px)',
          display: 'flex',
          flexDirection: 'column',
          gap: '16px'
        }}>
          <h2 style={{
            fontSize: '18px',
            fontWeight: '600',
            color: '#1a4d2e',
            marginBottom: '8px',
            textAlign: 'center'
          }}>ACEMATEç”¨æˆ·æ‰‹å†Œ</h2>

          {/* æœºå™¨äººå›¾ç‰‡å±•ç¤ºåŒºåŸŸ - ç¼©å°å¹¶æ”¯æŒæ»šåŠ¨éšè— */}
          <div style={{
            backgroundColor: '#f8fafc',
            borderRadius: '12px',
            padding: showRobotImage ? '16px' : '0',
            marginBottom: showRobotImage ? '16px' : '0',
            border: showRobotImage ? '2px solid #e2e8f0' : '2px solid transparent',
            textAlign: 'center',
            transition: 'all 0.5s cubic-bezier(0.4, 0, 0.2, 1)',
            opacity: showRobotImage ? 1 : 0,
            transform: showRobotImage ? 'translateY(0) scale(1)' : 'translateY(-10px) scale(0.95)',
            maxHeight: showRobotImage ? '350px' : '0',
            overflow: 'hidden'
          }}>
            <div style={{
                width: '100%',
                height: '120px',
                backgroundColor: '#f1f5f9',
                borderRadius: '8px',
                display: 'flex',
                justifyContent: 'center',
                alignItems: 'center',
                marginBottom: '12px',
                border: '1px dashed #cbd5e1',
                position: 'relative',
                overflow: 'hidden'
              }}>
                <img
                  src={`${process.env.PUBLIC_URL}/acemate-robot.png`}
                  alt="ACEMATEç½‘çƒæœºå™¨äºº"
                  style={{
                    maxWidth: '80%',
                    maxHeight: '80%',
                    objectFit: 'contain',
                    borderRadius: '6px'
                  }}
                  onError={(e) => {
                    // å¦‚æœå›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œæ˜¾ç¤ºå ä½ç¬¦
                    e.currentTarget.style.display = 'none';
                    const parent = e.currentTarget.parentElement;
                    if (parent) {
                      parent.innerHTML = `
                        <div style="
                          display: flex;
                          flex-direction: column;
                          align-items: center;
                          justify-content: center;
                          color: #64748b;
                          font-size: 14px;
                          text-align: center;
                          padding: 20px;
                        ">
                          <div style="
                            font-size: 36px;
                            margin-bottom: 6px;
                            opacity: 0.5;
                          ">ğŸ¤–</div>
                          <div>ACEMATE</div>
                        </div>
                      `;
                    }
                  }}
                />
              </div>
              <div style={{
                fontSize: '13px',
                color: '#374151',
                lineHeight: '1.4',
                textAlign: 'center'
              }}>
                <div style={{ fontWeight: '600', color: '#1a4d2e', marginBottom: '6px' }}>
                  ACEMATE ç½‘çƒæœºå™¨äºº
                </div>
                <div style={{ fontSize: '12px', color: '#64748b' }}>
                  ä¸“ä¸šçš„ç½‘çƒè®­ç»ƒä¼´ä¾£
                </div>
              </div>
          </div>

          {/* ä¸»è¦å†…å®¹åŒºåŸŸ - å·¦å³åˆ†æ ï¼Œè°ƒæ•´æ¯”ä¾‹ */}
          <div style={{
            display: 'flex',
            gap: '20px',
            minHeight: '500px'
          }}>
            {/* å·¦ä¾§å¯¼èˆªæ  - ç¼©å°å®½åº¦ï¼Œè°ƒæ•´å­—ä½“ */}
            <div style={{
              flex: '0 0 100px',
              backgroundColor: '#f8fafc',
              borderRadius: '12px',
              padding: '16px 8px',
              border: '1px solid #e2e8f0'
            }}>
              <nav style={{ display: 'flex', flexDirection: 'column', gap: '6px' }}>
                {manualSections.map((section) => (
                  <button
                    key={section.id}
                    onClick={() => setActiveSection(section.id)}
                    style={{
                      width: '100%',
                      padding: '10px 6px',
                      backgroundColor: activeSection === section.id ? '#22c55e' : 'transparent',
                      border: 'none',
                      borderRadius: '8px',
                      color: activeSection === section.id ? 'white' : '#374151',
                      fontSize: '11px',
                      fontWeight: activeSection === section.id ? '600' : '500',
                      cursor: 'pointer',
                      transition: 'all 0.2s ease',
                      textAlign: 'center',
                      lineHeight: '1.4',
                      minHeight: '36px',
                      display: 'flex',
                      alignItems: 'center',
                      justifyContent: 'center'
                    }}
                  >
                    {section.title}
                  </button>
                ))}
              </nav>
            </div>

            {/* å³ä¾§å†…å®¹åŒºåŸŸ - æ‰©å¤§æ¯”ä¾‹ */}
            <div style={{
              flex: '1',
              backgroundColor: '#f8fafc',
              borderRadius: '12px',
              padding: '20px',
              border: '1px solid #e2e8f0',
              overflowY: 'auto'
            }}>
              {manualSections.map((section) => (
                activeSection === section.id && (
                  <div key={section.id}>
                    <h3 style={{
                      fontSize: '18px',
                      fontWeight: '600',
                      color: '#1a4d2e',
                      marginBottom: '20px'
                    }}>
                      {section.title}
                    </h3>

                    <div style={{ display: 'flex', flexDirection: 'column', gap: '14px' }}>
                      {section.content.map((item, index) => {
                        const subsectionId = `${section.id}-${index}`;
                        const isExpanded = expandedSubsection === subsectionId;

                        return (
                          <div
                            key={index}
                            style={{
                              backgroundColor: 'white',
                              borderRadius: '8px',
                              overflow: 'hidden',
                              border: '1px solid #e5e7eb',
                              boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'
                            }}
                          >
                            <button
                              onClick={() => toggleSubsection(subsectionId)}
                              style={{
                                width: '100%',
                                padding: '14px 16px',
                                backgroundColor: 'transparent',
                                border: 'none',
                                textAlign: 'left',
                                cursor: 'pointer',
                                display: 'flex',
                                justifyContent: 'space-between',
                                alignItems: 'center'
                              }}
                            >
                              <h4 style={{
                                fontSize: '15px',
                                fontWeight: '600',
                                color: '#1a4d2e',
                                margin: 0
                              }}>
                                {item.title}
                              </h4>
                              <span style={{
                                fontSize: '12px',
                                color: '#64748b',
                                transform: isExpanded ? 'rotate(180deg)' : 'rotate(0deg)',
                                transition: 'transform 0.2s ease'
                              }}>
                                â–¼
                              </span>
                            </button>

                            {isExpanded && (
                              <div style={{
                                padding: '0 16px 16px',
                                borderTop: '1px solid #e5e7eb'
                              }}>
                                <div style={{
                                  fontSize: '14px',
                                  lineHeight: '1.6',
                                  color: '#374151',
                                  margin: 0,
                                  whiteSpace: 'pre-wrap'
                                }}>
                                  {item.description}
                                </div>
                              </div>
                            )}
                          </div>
                        );
                      })}
                    </div>
                  </div>
                )
              ))}
            </div>
          </div>
        </div>

        {/* æ·»åŠ é¢å¤–é—´è·æ¥åŒ¹é…å…¶ä»–é¡µé¢çš„å†…å®¹é«˜åº¦ */}
        <div style={{ height: '200px' }}></div>

        {/* åº•éƒ¨å¯¼èˆª - ä¸å…¶ä»–é¡µé¢å®Œå…¨ä¸€è‡´ */}
        <div style={{
          marginTop: '24px',
          backgroundColor: 'white',
          borderRadius: '12px',
          boxShadow: '0 1px 3px 0 rgba(0, 0, 0, 0.1)',
          padding: '12px'
        }}>
          <nav style={{ display: 'flex', justifyContent: 'space-around' }}>
            <NavItem label="Rally" keyName="rally" active={nav === "rally"} onClick={() => handleNavClick("rally")} />
            <NavItem label="Ball Machine" keyName="ball-machine" active={nav === "ball-machine"} onClick={() => handleNavClick("ball-machine")} />
            <NavItem label="Training" keyName="training" active={nav === "training"} onClick={() => handleNavClick("training")} />
            <NavItem label="Me" keyName="me" active={nav === "me"} onClick={() => handleNavClick("me")} />
          </nav>
        </div>
      </div>
    </div>
  );
}